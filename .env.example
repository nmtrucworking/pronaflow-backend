# ===================================
# PronaFlow Backend - Environment Configuration
# ===================================

# ===================================
# Database Configuration
# ===================================
DATABASE_URL=postgresql+psycopg2://pronaflow_user:your_password@localhost:5432/pronaflow_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30

# ===================================
# Security & Authentication
# ===================================
SECRET_KEY=your-secret-key-change-in-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_RESET_TOKEN_EXPIRE_MINUTES=15
EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=24

# ===================================
# Application Settings
# ===================================
APP_NAME=PronaFlow
APP_VERSION=1.3.0
DEBUG=False
ENVIRONMENT=development
API_V1_PREFIX=/api/v1

# ===================================
# CORS Configuration
# ===================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080
ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
ALLOWED_HEADERS=*

# ===================================
# Email (SMTP) Configuration
# ===================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@pronaflow.com
SMTP_FROM_NAME=PronaFlow
SMTP_USE_TLS=True
SMTP_USE_SSL=False

# ===================================
# File Storage
# ===================================
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE=10485760
ALLOWED_EXTENSIONS=pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,jpeg,png,gif,txt,zip,rar
STORAGE_BACKEND=local

# AWS S3 (Optional - if using S3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1

# ===================================
# Redis Configuration (Caching & Sessions)
# ===================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50
CACHE_TTL=3600

# ===================================
# Logging Configuration
# ===================================
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# ===================================
# Rate Limiting
# ===================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_AUTH_PER_MINUTE=5
RATE_LIMIT_PUBLIC_PER_MINUTE=30

# ===================================
# Pagination
# ===================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ===================================
# Security Headers
# ===================================
ENABLE_SECURITY_HEADERS=True
HSTS_MAX_AGE=31536000
CSP_POLICY=default-src 'self'

# ===================================
# Background Jobs (Celery)
# ===================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ===================================
# Monitoring & Analytics
# ===================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ===================================
# Feature Flags
# ===================================
FEATURE_MFA_ENABLED=True
FEATURE_WEBHOOKS_ENABLED=True
FEATURE_PLUGINS_ENABLED=False
FEATURE_BILLING_ENABLED=True

# ===================================
# External Services
# ===================================
# Stripe (Payment)
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=

# OAuth Providers
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ===================================
# Development & Testing
# ===================================
# Set to True to see detailed SQL queries
SQL_ECHO=False

# Testing database (separate from development)
TEST_DATABASE_URL=postgresql+psycopg2://pronaflow_user:your_password@localhost:5432/pronaflow_test

# ===================================
# Workspace Defaults
# ===================================
DEFAULT_WORKSPACE_STORAGE_GB=5
DEFAULT_WORKSPACE_USERS=10
DEFAULT_WORKSPACE_PROJECTS=10

# ===================================
# Notification Settings
# ===================================
NOTIFICATION_QUEUE_SIZE=1000
NOTIFICATION_BATCH_SIZE=50
EMAIL_DIGEST_ENABLED=True
EMAIL_DIGEST_FREQUENCY=daily

# ===================================
# Archive & Retention
# ===================================
DEFAULT_ARCHIVE_RETENTION_DAYS=365
AUTO_ARCHIVE_INACTIVE_DAYS=90
CLEANUP_JOB_ENABLED=True
CLEANUP_JOB_INTERVAL_HOURS=24
